<!DOCTYPE html>
<html>
<head>
    <title>Calculator</title>
</head>
<body>
    <div id="equation"></div>
    <div id="keypad">
        <ul id="main-keys">
            <li><button>AC</button></li>
            <li><button>+/-</button></li>
            <li><button>%</button></li>
            <li><button>7</button></li>
            <li><button>8</button></li>
            <li><button>9</button></li>
            <li><button>4</button></li>
            <li><button>5</button></li>
            <li><button>6</button></li>
            <li><button>1</button></li>
            <li><button>2</button></li>
            <li><button>3</button></li>
            <li><button>0</button></li>
            <li><button>.</button></li>
        </ul>
        <div id="operator-keys">
            <li><button>/</button></li>
            <li><button>*</button></li>
            <li><button>-</button></li>
            <li><button>+</button></li>
            <li><button>=</button></li>
        </div>
    </div>
    <script>
        const equationElement = document.querySelector('#equation');
        const keypadElement = document.querySelector('#keypad');
        let leftHandSide = '';
        let rightHandSide = '';
        let operator = null;
        let prevResult = null;
        
        function handleClick(event) {
            const buttonValue = event.target.innerHTML;
            const equationText = equationElement.innerHTML;

            if (prevResult) {
                equationElement.innerHTML = buttonValue;
                prevResult = null;
                operator = null;
                leftHandSide = '';
                rightHandSide = '';
            } else {
                equationElement.innerHTML = equationText + buttonValue;
            }

            switch(buttonValue) {
                case '+':
                case '-':
                case '*':
                case '/':
                    operator = buttonValue;
                break;
                case '0':
                case '1':
                case '2':
                case '3':
                case '4':
                case '5':
                case '6':
                case '7':
                case '8':
                case '9':
                    if (operator) {
                        rightHandSide += buttonValue;
                    } else {
                        leftHandSide += buttonValue;
                    }
                break;
                case '=':
                    const fullEquation = `${leftHandSide}${operator}${rightHandSide}`;
                    equationElement.innerHTML = eval(fullEquation);
                    prevResult = equationElement.innerHTML;
                break;
            }
        }
        keypadElement.addEventListener('click', handleClick);
    </script>
</body>
</html>
